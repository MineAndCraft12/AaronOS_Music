<!DOCTYPE html>
<html style="width:100%;height:100%;margin:0;padding:0;overflow:hidden">
    <head>
        <title>AaronOS Music Player</title>
        <link rel="stylesheet" href="aosStyle.css">
        <link rel="stylesheet" href="style.css">
        <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    </head>
    <body style="margin:0;padding:0;width:100%;height:100%;overflow:hidden;">
        <div class="winHTML" style="width:calc(100% - 8px);height:calc(100% - 6px);margin:0;padding:3px;padding-right:5px;overflow-y:auto;overflow-x:hidden">
            <div id="introduction">
                <h1 style="text-align:center">AaronOS Music</h1>
                <div style="text-align:center; position:relative; margin-top:-16px; margin-bottom:-16px;">
                    <div class="selectIcon">
                        <input type="file" id="folderInput" webkitdirectory directory multiple onchange="loadFolder()">
                        <img id="folderIcon" src="icons/folder.png" style="pointer-events:none;">
                        <span>Folder</span>
                    </div>
                    <div class="selectIcon">
                        <input type="file" id="fileInput" multiple accept="audio/*" onchange="loadFiles()">
                        <img id="filesIcon" src="icons/files.png" style="pointer-events:none;">
                        <span>Files</span>
                    </div>
                    <div class="selectIcon" id="systemAudioIcon">
                        <img class="cursorPointer" src="icons/system.png" onclick="loadSystemAudio()">
                        <span>System</span>
                    </div>
                    <div class="selectIcon">
                        <img id="microphoneIcon" class="cursorPointer" src="icons/microphone.png" onclick="loadMicrophone()">
                        <span>Microphone</span>
                    </div>
                </div>
                <div style="text-align:center;max-width:500px;margin:auto;">
                    <i>
                        Visualizations in the list whose thumbnails use the Rainbow color scheme are modeled after the AudioVision app for Android.<br><br>
                        The AudioVision designs were created by &Scaron;tefan Schindler.
                    </i>
                </div>
            </div>
            <div id="currentlyPlaying" class="disabled">No Song Playing</div>
            <div id="controls" class="disabled">

                <button onclick="refresh()">Reset</button> &nbsp; &nbsp; &nbsp;

                <span id="nonLiveControls">
                    Delay: <input style="width: 50px" type="number" id="delayinput" min="0" max="1" value="0.25" step="0.01" onchange="setDelay(this.value)"> &nbsp; &nbsp; &nbsp;

                    <button onclick="shuffle()">Shuffle</button> &nbsp; &nbsp; &nbsp;

                    <button onclick="back()"><b>|</b>&#9668;</button>
                    <button onclick="if(audio.paused){play();}else{pause();}" id="playbutton">&#9658;</button>
                    <button onclick="next()">&#9658;<b>|</b></button> &nbsp; &nbsp; &nbsp;
                </span>

                <span id="liveControls">
                    Latency / Detail:
                    <button id="latencyButton0" onclick="setLatency(0)" style="border-color:#C00">High</button>
                    <button id="latencyButton1" onclick="setLatency(1)" style="border-color:#0A0">Default</button>
                    <button id="latencyButton2" onclick="setLatency(2)" style="border-color:#C00">Low</button> &nbsp; &nbsp; &nbsp;
                </span>

                <button onclick="toggleFPS()" id="debugButton" style="border-color:#C00">Debug</button>
                <button onclick="togglePerformance()" id="performanceButton" style="border-color:#C00">Fast Mode</button><span style="display:none" id="tskbrModeRange"> &nbsp; &nbsp; &nbsp;
                    
                <button onclick="toggleTaskbarMode()" id="taskbarButton" style="border-color:#C00">Taskbar Mode</button></span>
                <br>

                Visuals: <select id="visfield" onchange="setVis(this.value)" onmousedown="if(!taskbarMode){requestAnimationFrame(()=>{this.blur()}); event.preventDefault();}" onclick="if(!taskbarMode){openVisualizerMenu(); event.preventDefault();}"></select>
                <button id="smokeButton" onclick="toggleSmoke()" style="border-color:#C00">Smoke</button> &nbsp; &nbsp; &nbsp;

                Colors: <select id="colorfield" onchange="setColor(this.value)" onmousedown="if(!taskbarMode){requestAnimationFrame(()=>{this.blur()}); event.preventDefault();}" onclick="if(!taskbarMode){openColorMenu(); event.preventDefault();}"></select> &nbsp; &nbsp; &nbsp;

                Mod: <select id="modfield" onchange="selectMod(this.value)" onmousedown="if(!taskbarMode){requestAnimationFrame(()=>{this.blur()}); event.preventDefault();}" onclick="if(!taskbarMode){openModMenu(); event.preventDefault();}">
                    <option value="null">None</option>
                </select>

            </div>
            <div id="progressContainer" class="disabled" onclick="setProgress(event)"><div id="progress"></div></div>
            <div id="songList" class="disabled"></div>
            <div id="visualizer" class="disabled">
                <canvas id="smokeCanvas"></canvas>
                <div id="smokeScreen1"></div>
                <div id="smokeScreen2"></div>
                <canvas id="visCanvas" onclick="toggleFullscreen()"></canvas>
            </div>
            <div id="selectOverlay" class="disabled">
                <div id="selectBackground" onclick="closeMenu()"></div>
                <div id="selectContent"></div>
            </div>
        </div>
    </body>
    <script defer src="script.js"></script>
</html>